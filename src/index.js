
 // #     88                      ,ad8888ba,                     88        88
 // #     88                     d8"'    `"8b                    88        88
 // #     88                    d8'                              88        88
 // #     88                    88                               88        88
 // #     88                    88                               88        88
 // #     88                    Y8,                              88        88
 // #     88                     Y8a.    .a8P                    Y8a.    .a8P
 // #     88                      `"Y8888Y"'                      `"Y8888Y"'
 // #
 // #
 // #
 // #
 // #     						               ...----....
 // #                         ..-:"''         ''"-..
 // #                      .-'                      '-.
 // #                    .'              .     .       '.
 // #                  .'   .          .    .      .    .''.
 // #                .'  .    .       .   .   .     .   . ..:.
 // #              .' .   . .  .       .   .   ..  .   . ....::.
 // #             ..   .   .      .  .    .     .  ..  . ....:IA.
 // #            .:  .   .    .    .  .  .    .. .  .. .. ....:IA.
 // #           .: .   .   ..   .    .     . . .. . ... ....:.:VHA.
 // #           '..  .  .. .   .       .  . .. . .. . .....:.::IHHB.
 // #          .:. .  . .  . .   .  .  . . . ...:.:... .......:HIHMM.
 // #         .:.... .   . ."::"'.. .   .  . .:.:.:II;,. .. ..:IHIMMA
 // #         ':.:..  ..::IHHHHHI::. . .  ...:.::::.,,,. . ....VIMMHM
 // #        .:::I. .AHHHHHHHHHHAI::. .:...,:IIHHHHHHMMMHHL:. . VMMMM
 // #       .:.:V.:IVHHHHHHHMHMHHH::..:" .:HIHHHHHHHHHHHHHMHHA. .VMMM.
 // #       :..V.:IVHHHHHMMHHHHHHHB... . .:VPHHMHHHMMHHHHHHHHHAI.:VMMI
 // #       ::V..:VIHHHHHHMMMHHHHHH. .   .I":IIMHHMMHHHHHHHHHHHAPI:WMM
 // #       ::". .:.HHHHHHHHMMHHHHHI.  . .:..I:MHMMHHHHHHHHHMHV:':H:WM
 // #       :: . :.::IIHHHHHHMMHHHHV  .ABA.:.:IMHMHMMMHMHHHHV:'. .IHWW
 // #       '.  ..:..:.:IHHHHHMMHV" .AVMHMA.:.'VHMMMMHHHHHV:' .  :IHWV
 // #        :.  .:...:".:.:TPP"   .AVMMHMMA.:. "VMMHHHP.:... .. :IVAI
 // #       .:.   '... .:"'   .   ..HMMMHMMMA::. ."VHHI:::....  .:IHW'
 // #       ...  .  . ..:IIPPIH: ..HMMMI.MMMV:I:.  .:ILLH:.. ...:I:IM
 // #     : .   .'"' .:.V". .. .  :HMMM:IMMMI::I. ..:HHIIPPHI::'.P:HM.
 // #     :.  .  .  .. ..:.. .    :AMMM IMMMM..:...:IV":T::I::.".:IHIMA
 // #     'V:.. .. . .. .  .  .   'VMMV..VMMV :....:V:.:..:....::IHHHMH
 // #       "IHH:.II:.. .:. .  . . . " :HB"" . . ..PI:.::.:::..:IHHMMV"
 // #        :IP""HHII:.  .  .    . . .'V:. . . ..:IH:.:.::IHIHHMMMMM"
 // #        :V:. VIMA:I..  .     .  . .. . .  .:.I:I:..:IHHHHMMHHMMM
 // #        :"VI:.VWMA::. .:      .   .. .:. ..:.I::.:IVHHHMMMHMMMMI
 // #        :."VIIHHMMA:.  .   .   .:  .:.. . .:.II:I:AMMMMMMHMMMMMI
 // #        :..VIHIHMMMI...::.,:.,:!"I:!"I!"I!"V:AI:VAMMMMMMHMMMMMM'
 // #        ':.:HIHIMHHA:"!!"I.:AXXXVVXXXXXXXA:."HPHIMMMMHHMHMMMMMV
 // #          V:H:I:MA:W'I :AXXXIXII:IIIISSSSSSXXA.I.VMMMHMHMMMMMM
 // #            'I::IVA ASSSSXSSSSBBSBMBSSSSSSBBMMMBS.VVMMHIMM'"'
 // #             I:: VPAIMSSSSSSSSSBSSSMMBSSSBBMMMMXXI:MMHIMMI
 // #            .I::. "H:XIIXBBMMMMMMMMMMMMMMMMMBXIXXMMPHIIMM'
 // #            :::I.  ':XSSXXIIIIXSSBMBSSXXXIIIXXSMMAMI:.IMM
 // #            :::I:.  .VSSSSSISISISSSBII:ISSSSBMMB:MI:..:MM
 // #            ::.I:.  ':"SSSSSSSISISSXIIXSSSSBMMB:AHI:..MMM.
 // #            ::.I:. . ..:"BBSSSSSSSSSSSSBBBMMMB:AHHI::.HMMI
 // #            :..::.  . ..::":BBBBBSSBBBMMMB:MMMMHHII::IHHMI
 // #            ':.I:... ....:IHHHHHMMMMMMMMMMMMMMMHHIIIIHMMV"
 // #              "V:. ..:...:.IHHHMMMMMMMMMMMMMMMMHHHMHHMHP'
 // #               ':. .:::.:.::III::IHHHHMMMMMHMHMMHHHHM"
 // #                 "::....::.:::..:..::IIIIIHHHHMMMHHMV"
 // #                   "::.::.. .. .  ...:::IIHHMMMMHMV"
 // #                     "V::... . .I::IHHMMV"'
 // #                       '"VHVHHHAHHHHMMV:"'






document.addEventListener("DOMContentLoaded", () => {
  console.log(
    "%c Easy Day",
    "font-weight: bold; font-size: 50px;color: red; text-shadow: 3px 3px 0 rgb(217,31,38) , 6px 6px 0 rgb(226,91,14) , 9px 9px 0 rgb(245,221,8) , 12px 12px 0 rgb(5,148,68) , 15px 15px 0 rgb(2,135,206) , 18px 18px 0 rgb(4,77,145) , 21px 21px 0 rgb(42,21,113)"
  );



  const addBtn = document.querySelector('#new-toy-btn')
  const toyForm = document.querySelector('.container')
  const toyCon = document.querySelector('#toy-collection')
  let addToy = false

  // YOUR CODE HERE

  addBtn.addEventListener('click', () => {
    // hide & seek with the form
    addToy = !addToy
    if (addToy) {
      toyForm.style.display = 'block'
      // submit listener here
    } else {
      toyForm.style.display = 'none'
    }
  })


  // render card for toy index

  function createToyinfo(toy){
    const con = document.createElement('div')
    con.className += "card"

      con.innerHTML = `
          <h2  class="ballin"> ${toy.name}</h2>
          <img src=${toy.image} class="toy-avatar"</image>
          <p>Likes - ${toy.likes}</p>
          <button class="like-btn" data-id=${toy.id}>Like <3 </button>

        `
        return con
   }

   //load index

  fetch("http://localhost:3000/toys")
    .then(res => res.json())
    .then(toys => {
      toys.forEach(toy=>{
      toyCon.appendChild(createToyinfo(toy))
      })
    })



  //added event listener

  document.querySelector("body").addEventListener("click", e=>{
  e.preventDefault()
  if (e.target.name === "submit")
  newToyYo(e)
  if (e.target.classList.value === "like-btn")
  addLikeYo(e)
})

//add a new toy

function newToyYo(e){
  let name = e.target.parentElement.children[1].value
  let image = e.target.parentElement.children[3].value
  let likes = 0
  e.target.parentElement.children[1].value = ""
  e.target.parentElement.children[3].value = ""

  fetch('http://localhost:3000/toys', {
     method: "POST",
     headers: {
       "Content-Type": "application/json",
       "Accept": "application/json"
     },
     body: JSON.stringify({
                 name,
                 image,
                 likes

     })
   })
   .then(r=>r.json())
   .then(toy=>{
     toyCon.appendChild(createToyinfo(toy))
  })
}


//add likes rendered live


  function addLikeYo(e){
  let likes = parseInt(e.target.parentNode.children[2].innerText.split(" - ")[1])
      likes++
      // aaa = e.target.parentNode.children[2].innerText
      // bbb = aaa.split("")
      // bbb.splice(bbb.length -1)
      // bbb.push(likes)
      // bbb.join("")

      e.target.parentNode.children[2].innerText = `Likes - ${likes}`

  let toyID  = parseInt(e.target.dataset.id)
      fetch(`http://localhost:3000/toys/${toyID}`,{
        method: "PATCH",
        headers: {
          "Content-Type": "application/json",
          "Accept": "application/json"
        },
        body: JSON.stringify({
                    likes

        })
      })
  }









});
